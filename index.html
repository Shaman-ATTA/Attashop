<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DayZ Магазин | ATTA DAYZ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .dayz-bg {
            background-image: url('https://images.unsplash.com/photo-1516035069371-29a1b244cc32?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1630&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        .blur-bg {
            backdrop-filter: blur(8px);
            background-color: rgba(0, 0, 0, 0.6);
        }
        .server-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        .item-card:hover {
            transform: scale(1.03);
        }
        .cart-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }
        .online {
            background-color: rgba(16, 185, 129, 0.2);
            border-left: 4px solid rgba(16, 185, 129, 1);
        }
        .offline {
            background-color: rgba(239, 68, 68, 0.2);
            border-left: 4px solid rgba(239, 68, 68, 1);
        }
        .restarting {
            background-color: rgba(234, 179, 8, 0.2);
            border-left: 4px solid rgba(234, 179, 8, 1);
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .category-btn.active {
            background-color: #059669;
            color: white;
        }
    </style>
</head>
<body class="dayz-bg min-h-screen text-gray-100">
    <!-- Навигация -->
    <nav class="blur-bg sticky top-0 z-50">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-skull-crossbones text-2xl text-green-500"></i>
                <span class="text-xl font-bold">ATTA DAYZ</span>
            </div>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="#" class="nav-link hover:text-green-400" data-tab="shop">Магазин</a>
                <a href="#" class="nav-link hover:text-green-400" data-tab="servers">Сервера</a>
                <a href="#" class="nav-link hover:text-green-400" data-tab="profile">Профиль</a>
                <div id="auth-buttons" class="flex space-x-3">
                    <button id="login-btn" class="bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded">Вход</button>
                    <button id="register-btn" class="bg-green-600 hover:bg-green-700 px-3 py-1 rounded">Регистрация</button>
                </div>
                <div id="user-profile" class="hidden flex items-center space-x-2">
                    <img src="https://via.placeholder.com/30/1F2937/FFFFFF?text=User" alt="User" class="w-8 h-8 rounded-full">
                    <span id="username-display" class="font-medium"></span>
                    <button id="logout-btn" class="text-red-400 hover:text-red-300 ml-2">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
                <a href="#" class="nav-link hover:text-green-400" data-tab="cart">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="cart-count" class="ml-1">0</span>
                </a>
            </div>
            <button class="md:hidden text-2xl" id="mobile-menu-button">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        <!-- Мобильное меню -->
        <div class="md:hidden hidden blur-bg absolute w-full left-0" id="mobile-menu">
            <div class="container mx-auto px-4 py-2 flex flex-col space-y-3">
                <a href="#" class="nav-link py-2 hover:text-green-400" data-tab="shop">Магазин</a>
                <a href="#" class="nav-link py-2 hover:text-green-400" data-tab="servers">Сервера</a>
                <a href="#" class="nav-link py-2 hover:text-green-400" data-tab="profile">Профиль</a>
                <div id="mobile-auth-buttons" class="flex space-x-3 py-2">
                    <button id="mobile-login-btn" class="bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded">Вход</button>
                    <button id="mobile-register-btn" class="bg-green-600 hover:bg-green-700 px-3 py-1 rounded">Регистрация</button>
                </div>
                <div id="mobile-user-profile" class="hidden flex items-center space-x-2 py-2">
                    <img src="https://via.placeholder.com/30/1F2937/FFFFFF?text=User" alt="User" class="w-8 h-8 rounded-full">
                    <span id="mobile-username-display" class="font-medium"></span>
                    <button id="mobile-logout-btn" class="text-red-400 hover:text-red-300 ml-2">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </div>
                <a href="#" class="nav-link py-2 hover:text-green-400" data-tab="cart">
                    <i class="fas fa-shopping-cart"></i>
                    <span id="mobile-cart-count" class="ml-1">0</span>
                </a>
            </div>
        </div>
    </nav>

    <!-- Модальные окна -->
    <!-- Вход -->
    <div id="login-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Вход в аккаунт</h3>
                <button id="close-login-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="login-form">
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">Логин</label>
                    <input type="text" id="login-username" class="w-full bg-gray-700 text-white px-4 py-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">Пароль</label>
                    <input type="password" id="login-password" class="w-full bg-gray-700 text-white px-4 py-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded font-bold">
                    Войти
                </button>
            </form>
            <div class="mt-4 text-center text-sm text-gray-400">
                Нет аккаунта? <button id="switch-to-register" class="text-green-400 hover:text-green-300">Зарегистрируйтесь</button>
            </div>
        </div>
    </div>

    <!-- Регистрация -->
    <div id="register-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Регистрация</h3>
                <button id="close-register-modal" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="register-form">
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">Логин</label>
                    <input type="text" id="register-username" class="w-full bg-gray-700 text-white px-4 py-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">Email</label>
                    <input type="email" id="register-email" class="w-full bg-gray-700 text-white px-4 py-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">Пароль</label>
                    <input type="password" id="register-password" class="w-full bg-gray-700 text-white px-4 py-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-300 mb-2">Повторите пароль</label>
                    <input type="password" id="register-password-confirm" class="w-full bg-gray-700 text-white px-4 py-2 rounded border border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500" required>
                </div>
                <button type="submit" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 rounded font-bold">
                    Зарегистрироваться
                </button>
            </form>
            <div class="mt-4 text-center text-sm text-gray-400">
                Уже есть аккаунт? <button id="switch-to-login" class="text-green-400 hover:text-green-300">Войдите</button>
            </div>
        </div>
    </div>

    <!-- Основное содержимое -->
    <main class="container mx-auto px-4 py-8">
        <!-- Магазин -->
        <div id="shop" class="tab-content active">
            <h1 class="text-3xl font-bold mb-6 flex items-center">
                <i class="fas fa-store mr-3 text-green-400"></i> МАГАЗИН ATTA
            </h1>
            
            <div class="mb-6 flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4">
                <div class="relative flex-grow">
                    <input type="text" id="item-search" placeholder="Поиск предметов..." class="w-full bg-gray-800 text-white px-4 py-2 rounded-lg border border-gray-700 focus:outline-none focus:ring-2 focus:ring-green-500">
                    <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                </div>
                <div class="flex space-x-2 overflow-x-auto pb-2">
                    <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg whitespace-nowrap active" data-category="all">Все товары</button>
                    <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg whitespace-nowrap" data-category="furniture">Фурнитура</button>
                    <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg whitespace-nowrap" data-category="ammo">Боеприпасы</button>
                    <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg whitespace-nowrap" data-category="clothing">Одежда</button>
                    <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg whitespace-nowrap" data-category="medical">Медицина</button>
                    <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg whitespace-nowrap" data-category="food">Еда</button>
                    <button class="category-btn px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg whitespace-nowrap" data-category="transport">Транспорт</button>
                </div>
            </div>
            
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="items-container">
                <!-- Товары будут добавляться динамически -->
            </div>
        </div>

        <!-- Сервера -->
        <div id="servers" class="tab-content">
            <h1 class="text-3xl font-bold mb-6 flex items-center">
                <i class="fas fa-server mr-3 text-green-400"></i> СЕРВЕРА ATTA
            </h1>
            
            <div class="mb-6 bg-gray-800 p-4 rounded-lg">
                <div class="flex items-center text-yellow-400">
                    <i class="fas fa-exclamation-triangle mr-2"></i>
                    <span>Внимание: Сервера находятся в разработке. Статистика временно недоступна.</span>
                </div>
            </div>
            
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-4" id="servers-container">
                <!-- Сервера будут добавляться динамически -->
            </div>
            
            <div class="mt-8 bg-gray-800 rounded-lg p-4">
                <h3 class="font-bold text-xl mb-3 flex items-center">
                    <i class="fas fa-info-circle mr-2 text-green-400"></i> Статусы серверов
                </h3>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                    <div class="flex items-center">
                        <div class="w-3 h-3 rounded-full bg-green-500 mr-2"></div>
                        <span>Онлайн - сервер работает</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-3 h-3 rounded-full bg-red-500 mr-2"></div>
                        <span>Оффлайн - сервер не доступен</span>
                    </div>
                    <div class="flex items-center">
                        <div class="w-3 h-3 rounded-full bg-yellow-500 mr-2"></div>
                        <span>Перезагрузка - сервер перезапускается</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Профиль -->
        <div id="profile" class="tab-content">
            <h1 class="text-3xl font-bold mb-6 flex items-center">
                <i class="fas fa-user mr-3 text-green-400"></i> ПРОФИЛЬ ВЫЖИВШЕГО
            </h1>
            
            <div id="profile-not-logged" class="bg-gray-800 rounded-lg p-8 text-center">
                <i class="fas fa-user-lock text-5xl text-gray-500 mb-4"></i>
                <h3 class="text-xl font-bold mb-2">Вы не авторизованы</h3>
                <p class="text-gray-400 mb-4">Войдите или зарегистрируйтесь, чтобы просмотреть свой профиль</p>
                <button id="profile-login-btn" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg mr-3">
                    Войти
                </button>
                <button id="profile-register-btn" class="bg-gray-700 hover:bg-gray-600 text-white px-6 py-2 rounded-lg">
                    Регистрация
                </button>
            </div>
            
            <div id="profile-content" class="hidden">
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                    <div class="lg:col-span-1">
                        <div class="bg-gray-800 rounded-lg p-6 shadow-lg">
                            <div class="flex flex-col items-center">
                                <div class="w-32 h-32 rounded-full bg-gray-700 mb-4 overflow-hidden border-4 border-green-500">
                                    <img src="https://via.placeholder.com/150/1F2937/FFFFFF?text=User" alt="Profile" class="w-full h-full object-cover">
                                </div>
                                <h2 id="profile-username" class="text-2xl font-bold"></h2>
                                <p class="text-gray-400 mb-4">Игрок с <span id="member-since"></span></p>
                                <div class="w-full bg-gray-700 rounded-full h-2.5 mb-2">
                                    <div class="bg-green-600 h-2.5 rounded-full" style="width: 10%"></div>
                                </div>
                                <p class="text-sm text-gray-300">Уровень <span id="profile-level">1</span> (10%)</p>
                            </div>
                            
                            <div class="mt-6">
                                <h3 class="font-bold text-lg mb-3 flex items-center">
                                    <i class="fas fa-trophy mr-2 text-yellow-400"></i> Достижения
                                </h3>
                                <div class="space-y-2">
                                    <div class="flex items-center bg-gray-700 p-2 rounded">
                                        <i class="fas fa-medal text-gray-400 mr-2"></i>
                                        <span class="text-gray-400">Первая кровь (Убил 1 зомби)</span>
                                    </div>
                                    <div class="flex items-center bg-gray-700 p-2 rounded">
                                        <i class="fas fa-medal text-gray-400 mr-2"></i>
                                        <span class="text-gray-400">Выживший (Прожил 7 дней)</span>
                                    </div>
                                    <div class="flex items-center bg-gray-700 p-2 rounded">
                                        <i class="fas fa-medal text-gray-400 mr-2"></i>
                                        <span class="text-gray-400">Легенда (Прожил 30 дней)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="lg:col-span-2">
                        <div class="bg-gray-800 rounded-lg p-6 shadow-lg mb-6">
                            <h3 class="font-bold text-xl mb-4 flex items-center">
                                <i class="fas fa-chart-line mr-2 text-green-400"></i> Статистика
                            </h3>
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4">
                                <div class="bg-gray-700 p-4 rounded-lg">
                                    <div class="text-gray-400 text-sm">Дней выжил</div>
                                    <div class="text-2xl font-bold">0</div>
                                </div>
                                <div class="bg-gray-700 p-4 rounded-lg">
                                    <div class="text-gray-400 text-sm">Зомби убито</div>
                                    <div class="text-2xl font-bold">0</div>
                                </div>
                                <div class="bg-gray-700 p-4 rounded-lg">
                                    <div class="text-gray-400 text-sm">Игроков убито</div>
                                    <div class="text-2xl font-bold">0</div>
                                </div>
                                <div class="bg-gray-700 p-4 rounded-lg">
                                    <div class="text-gray-400 text-sm">Пройдено км</div>
                                    <div class="text-2xl font-bold">0</div>
                                </div>
                                <div class="bg-gray-700 p-4 rounded-lg">
                                    <div class="text-gray-400 text-sm">Любимое оружие</div>
                                    <div class="text-2xl font-bold">-</div>
                                </div>
                                <div class="bg-gray-700 p-4 rounded-lg">
                                    <div class="text-gray-400 text-sm">Рекорд дальности</div>
                                    <div class="text-2xl font-bold">0м</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gray-800 rounded-lg p-6 shadow-lg">
                            <h3 class="font-bold text-xl mb-4 flex items-center">
                                <i class="fas fa-history mr-2 text-green-400"></i> Последние действия
                            </h3>
                            <div class="space-y-3">
                                <div class="flex items-start bg-gray-700 p-3 rounded-lg">
                                    <div class="bg-blue-900 text-blue-400 p-2 rounded-full mr-3">
                                        <i class="fas fa-user-plus"></i>
                                    </div>
                                    <div>
                                        <p class="font-medium">Вы зарегистрировались</p>
                                        <p class="text-sm text-gray-400" id="registration-date"></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Корзина -->
        <div id="cart" class="tab-content">
            <h1 class="text-3xl font-bold mb-6 flex items-center">
                <i class="fas fa-shopping-cart mr-3 text-green-400"></i> ВАШИ ПРИПАСЫ
            </h1>
            
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="lg:col-span-2">
                    <div class="bg-gray-800 rounded-lg shadow-lg overflow-hidden">
                        <div class="p-4 border-b border-gray-700">
                            <h3 class="font-bold text-lg">Товары в корзине (<span id="cart-items-count">0</span>)</h3>
                        </div>
                        <div id="cart-items" class="divide-y divide-gray-700">
                            <!-- Товары будут добавляться динамически -->
                            <div class="p-4 text-center text-gray-500" id="empty-cart-message">
                                Ваша корзина пуста. Добавьте снаряжение для выживания!
                            </div>
                        </div>
                    </div>
                </div>
                
                <div>
                    <div class="bg-gray-800 rounded-lg shadow-lg p-6 sticky top-4">
                        <h3 class="font-bold text-lg mb-4">Детали заказа</h3>
                        <div class="space-y-3 mb-6">
                            <div class="flex justify-between">
                                <span class="text-gray-400">Сумма</span>
                                <span id="subtotal">0 ₽</span>
                            </div>
                            <div class="flex justify-between">
                                <span class="text-gray-400">Доставка</span>
                                <span class="text-green-400">БЕСПЛАТНО</span>
                            </div>
                            <div class="flex justify-between border-t border-gray-700 pt-3">
                                <span class="font-bold">Итого</span>
                                <span class="font-bold text-xl" id="total">0 ₽</span>
                            </div>
                        </div>
                        <button id="checkout-btn" class="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg font-bold disabled:bg-gray-600 disabled:cursor-not-allowed" disabled>
                            ОФОРМИТЬ ЗАКАЗ
                        </button>
                        <div class="mt-4">
                            <h4 class="font-bold mb-2">Способы оплаты</h4>
                            <div class="flex space-x-3">
                                <div class="bg-white p-2 rounded">
                                    <img src="https://via.placeholder.com/40/FFFFFF/1F2937?text=QIWI" alt="QIWI" class="h-6">
                                </div>
                                <div class="bg-white p-2 rounded">
                                    <img src="https://via.placeholder.com/40/FFFFFF/1F2937?text=YM" alt="YooMoney" class="h-6">
                                </div>
                                <div class="bg-white p-2 rounded">
                                    <img src="https://via.placeholder.com/40/FFFFFF/1F2937?text=SBP" alt="СБП" class="h-6">
                                </div>
                                <div class="bg-white p-2 rounded">
                                    <img src="https://via.placeholder.com/40/FFFFFF/1F2937?text=MC" alt="Mastercard" class="h-6">
                                </div>
                            </div>
                        </div>
                        <p class="text-xs text-gray-400 mt-3 text-center">
                            <i class="fas fa-lock mr-1"></i> Безопасная оплата
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Подвал -->
    <footer class="blur-bg mt-12 py-6">
        <div class="container mx-auto px-4">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="font-bold text-lg mb-4">DAYZ SURVIVOR</h3>
                    <p class="text-gray-400">Лучший магазин для выживальщиков DayZ. Экипируйся и выживай!</p>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Ссылки</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-green-400">Главная</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-green-400">Магазин</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-green-400">Сервера</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-green-400">Поддержка</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Правовая информация</h4>
                    <ul class="space-y-2">
                        <li><a href="#" class="text-gray-400 hover:text-green-400" onclick="showTerms()">Условия использования</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-green-400" onclick="showPrivacy()">Политика конфиденциальности</a></li>
                        <li><a href="#" class="text-gray-400 hover:text-green-400" onclick="showRefund()">Возврат средств</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-bold mb-4">Контакты</h4>
                    <div class="flex space-x-4">
                        <a href="#" class="text-gray-400 hover:text-green-400 text-xl"><i class="fab fa-discord"></i></a>
                        <a href="#" class="text-gray-400 hover:text-green-400 text-xl"><i class="fab fa-vk"></i></a>
                        <a href="#" class="text-gray-400 hover:text-green-400 text-xl"><i class="fab fa-telegram"></i></a>
                    </div>
                    <p class="mt-4 text-gray-400">
                        <i class="fas fa-envelope mr-2"></i> support@attadayz.ru
                    </p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-6 text-center text-gray-500">
                <p>&copy; 2023 ATTA DAYZ SHOP. Не аффилирован с Bohemia Interactive.</p>
            </div>
        </div>
    </footer>

    <!-- Модальные окна для правовой информации -->
    <div id="terms-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Условия использования</h3>
                <button onclick="closeModal('terms-modal')" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="prose prose-invert">
                <h4>1. Общие положения</h4>
                <p>1.1. Настоящие Условия использования регулируют отношения между Администрацией сайта и Пользователем.</p>
                <p>1.2. Используя Сайт, Пользователь соглашается с настоящими Условиями.</p>
                
                <h4>2. Права и обязанности сторон</h4>
                <p>2.1. Администрация обязуется:</p>
                <ul>
                    <li>Обеспечивать работоспособность Сайта</li>
                    <li>Защищать персональные данные Пользователей</li>
                </ul>
                
                <p>2.2. Пользователь обязуется:</p>
                <ul>
                    <li>Не использовать Сайт для противоправных целей</li>
                    <li>Не распространять вредоносное ПО</li>
                </ul>
                
                <h4>3. Ответственность</h4>
                <p>3.1. Администрация не несет ответственности за:</p>
                <ul>
                    <li>Действия Пользователей</li>
                    <li>Работу сторонних сервисов</li>
                </ul>
            </div>
        </div>
    </div>

    <div id="privacy-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Политика конфиденциальности</h3>
                <button onclick="closeModal('privacy-modal')" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="prose prose-invert">
                <h4>1. Сбор информации</h4>
                <p>1.1. Мы собираем только необходимые данные для работы сервиса:</p>
                <ul>
                    <li>Логин и пароль</li>
                    <li>Email для восстановления доступа</li>
                    <li>Данные о покупках</li>
                </ul>
                
                <h4>2. Использование данных</h4>
                <p>2.1. Ваши данные используются для:</p>
                <ul>
                    <li>Предоставления услуг</li>
                    <li>Технической поддержки</li>
                    <li>Улучшения качества сервиса</li>
                </ul>
                
                <h4>3. Защита информации</h4>
                <p>3.1. Мы используем современные методы шифрования для защиты ваших данных.</p>
            </div>
        </div>
    </div>

    <div id="refund-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-2xl max-h-[80vh] overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold">Политика возврата средств</h3>
                <button onclick="closeModal('refund-modal')" class="text-gray-400 hover:text-white">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="prose prose-invert">
                <h4>1. Общие условия</h4>
                <p>1.1. Возврат средств возможен в течение 14 дней с момента покупки.</p>
                
                <h4>2. Условия возврата</h4>
                <p>2.1. Для возврата необходимо:</p>
                <ul>
                    <li>Отправить запрос в поддержку</li>
                    <li>Указать причину возврата</li>
                    <li>Приложить чек о покупке</li>
                </ul>
                
                <h4>3. Сроки обработки</h4>
                <p>3.1. Возврат обрабатывается в течение 3-5 рабочих дней.</p>
            </div>
        </div>
    </div>

    <script>
        // Данные товаров (обновленные категории)
        const itemsData = [
            {
                id: 1,
                name: "Военный рюкзак",
                price: 2999,
                image: "https://dayz.ginfo.gg/_next/image?url=https%3A%2F%2Fstatic.ginfo.gg%2Fimages%2Fdayz%2Fitems%2Fmilitary_backpack.png&w=256&q=75",
                category: "clothing",
                description: "Вместительный рюкзак для всех ваших нужд выживания."
            },
            {
                id: 2,
                name: "Медицинские принадлежности",
                price: 1599,
                image: "https://dayz.ginfo.gg/_next/image?url=https%3A%2F%2Fstatic.ginfo.gg%2Fimages%2Fdayz%2Fitems%2Ffirst_aid_kit.png&w=256&q=75",
                category: "medical",
                description: "Набор для оказания первой медицинской помощи."
            },
            {
                id: 3,
                name: "Ящик с инструментами",
                price: 3499,
                image: "https://dayz.ginfo.gg/_next/image?url=https%3A%2F%2Fstatic.ginfo.gg%2Fimages%2Fdayz%2Fitems%2Ftoolbox.png&w=256&q=75",
                category: "furniture",
                description: "Необходим для ремонта и строительства."
            },
            {
                id: 4,
                name: "Колесо автомобильное",
                price: 4999,
                image: "https://dayz.ginfo.gg/_next/image?url=https%3A%2F%2Fstatic.ginfo.gg%2Fimages%2Fdayz%2Fitems%2Fcar_wheel.png&w=256&q=75",
                category: "transport",
                description: "Запасное колесо для транспортных средств."
            },
            {
                id: 5,
                name: "Консервированная фасоль",
                price: 499,
                image: "https://dayz.ginfo.gg/_next/image?url=https%3A%2F%2Fstatic.ginfo.gg%2Fimages%2Fdayz%2Fitems%2Fcanned_beans.png&w=256&q=75",
                category: "food",
                description: "Базовый запас еды, чтобы поддерживать ваши силы."
            },
            {
                id: 6,
                name: "5.56x45мм (30 патронов)",
                price: 1299,
                image: "https://dayz.ginfo.gg/_next/image?url=https%3A%2F%2Fstatic.ginfo.gg%2Fimages%2Fdayz%2Fitems%2F556x45_30rnd.png&w=256&q=75",
                category: "ammo",
                description: "Патроны 5.56x45мм, 30 штук в магазине."
            }
        ];

        // Данные серверов
        const serversData = [
            {
                id: 1,
                name: "ATTA #1 - Чернарус",
                map: "Чернарус",
                type: "PvPvE | 1PP",
                status: "offline",
                players: "0/60",
                location: "Москва, RU",
                ping: "-",
                mods: "В разработке",
                rules: "Скоро открытие"
            },
            {
                id: 2,
                name: "ATTA #2 - Ливония",
                map: "Ливония",
                type: "Хардкор | 1PP",
                status: "offline",
                players: "0/60",
                location: "Санкт-Петербург, RU",
                ping: "-",
                mods: "В разработке",
                rules: "Скоро открытие"
            }
        ];

        // Текущий пользователь
        let currentUser = null;
        let cart = [];

        // Инициализация страницы
        document.addEventListener('DOMContentLoaded', function() {
            renderItems();
            renderServers();
            setupEventListeners();
            checkAuth();
        });

        // Рендер товаров
        function renderItems(filter = '', category = 'all') {
            const container = document.getElementById('items-container');
            container.innerHTML = '';

            let filteredItems = itemsData;
            
            // Фильтрация по поиску
            if (filter) {
                filteredItems = filteredItems.filter(item => 
                    item.name.toLowerCase().includes(filter.toLowerCase()) || 
                    item.description.toLowerCase().includes(filter.toLowerCase())
                );
            }
            
            // Фильтрация по категории
            if (category !== 'all') {
                filteredItems = filteredItems.filter(item => item.category === category);
            }

            if (filteredItems.length === 0) {
                container.innerHTML = '<div class="col-span-full text-center text-gray-500 py-8">Товары не найдены</div>';
                return;
            }

            filteredItems.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.className = 'item-card bg-gray-800 rounded-lg overflow-hidden shadow-lg transition-transform duration-300 cursor-pointer';
                itemElement.setAttribute('data-id', item.id);
                itemElement.setAttribute('data-name', item.name);
                itemElement.setAttribute('data-price', (item.price / 100).toFixed(2));
                itemElement.setAttribute('data-category', item.category);
                
                // Исправление ссылок на изображения
                let imageUrl = item.image;
                if (imageUrl.includes('dayz.ginfo.gg')) {
                    imageUrl = imageUrl.replace('dayz.ginfo.gg/_next/image?url=', '').split('&w=')[0];
                    imageUrl = decodeURIComponent(imageUrl);
                }
                
                itemElement.innerHTML = `
                    <img src="${imageUrl}" alt="${item.name}" class="w-full h-48 object-cover" onerror="this.src='https://via.placeholder.com/300x200/1F2937/FFFFFF?text=No+Image'">
                    <div class="p-4">
                        <h3 class="font-bold text-xl mb-2">${item.name}</h3>
                        <p class="text-gray-300 mb-4">${item.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="font-bold text-green-400">${(item.price / 100).toFixed(2)} ₽</span>
                            <button class="add-to-cart bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded">
                                <i class="fas fa-cart-plus"></i> В корзину
                            </button>
                        </div>
                    </div>
                `;
                
                container.appendChild(itemElement);
            });

            // Добавляем обработчики событий для новых кнопок
            document.querySelectorAll('.add-to-cart').forEach(button => {
                button.addEventListener('click', function() {
                    const itemCard = this.closest('.item-card');
                    addToCart(
                        itemCard.getAttribute('data-id'),
                        itemCard.getAttribute('data-name'),
                        parseFloat(itemCard.getAttribute('data-price'))
                    );
                });
            });
        }

        // Рендер серверов
        function renderServers() {
            const container = document.getElementById('servers-container');
            container.innerHTML = '';

            serversData.forEach(server => {
                const serverElement = document.createElement('div');
                serverElement.className = `server-card bg-gray-800 rounded-lg overflow-hidden shadow-lg transition-transform duration-300 ${server.status}`;
                
                let statusText, statusColor;
                if (server.status === 'online') {
                    statusText = 'ОНЛАЙН';
                    statusColor = 'text-green-400';
                } else if (server.status === 'offline') {
                    statusText = 'ОФФЛАЙН';
                    statusColor = 'text-red-400';
                } else {
                    statusText = 'ПЕРЕЗАГРУЗКА';
                    statusColor = 'text-yellow-400';
                }
                
                serverElement.innerHTML = `
                    <div class="p-4 flex justify-between items-center">
                        <div>
                            <h3 class="font-bold text-xl">${server.name}</h3>
                            <p class="text-gray-300">${server.map} | ${server.type}</p>
                            <div class="mt-2 flex items-center text-sm">
                                <i class="fas fa-plug mr-1"></i>
                                <span>Пинг: ${server.ping}</span>
                                <span class="mx-2">|</span>
                                <i class="fas fa-cubes mr-1"></i>
                                <span>${server.mods}</span>
                            </div>
                        </div>
                        <div class="text-right">
                            <span class="block ${statusColor} font-bold">${statusText}</span>
                            <span class="text-sm text-gray-400">${server.players} игроков</span>
                        </div>
                    </div>
                    <div class="px-4 py-3 bg-gray-900 flex justify-between items-center">
                        <div class="flex items-center space-x-2">
                            <i class="fas fa-map-marker-alt text-gray-400"></i>
                            <span class="text-sm">${server.location}</span>
                            <span class="text-xs bg-gray-700 px-2 py-1 rounded">${server.rules}</span>
                        </div>
                        <button class="${server.status === 'online' ? 'bg-green-600 hover:bg-green-700' : 'bg-gray-600 cursor-not-allowed'} text-white px-4 py-1 rounded text-sm" ${server.status !== 'online' ? 'disabled' : ''}>
                            <i class="fas fa-plug"></i> Подключиться
                        </button>
                    </div>
                `;
                
                container.appendChild(serverElement);
            });
        }

        // Настройка обработчиков событий
        function setupEventListeners() {
            // Переключение табов
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const tabId = this.getAttribute('data-tab');
                    
                    // Скрыть все табы
                    document.querySelectorAll('.tab-content').forEach(tab => {
                        tab.classList.remove('active');
                    });
                    
                    // Показать выбранный таб
                    document.getElementById(tabId).classList.add('active');
                    
                    // Закрыть мобильное меню если открыто
                    document.getElementById('mobile-menu').classList.add('hidden');
                });
            });
            
            // Мобильное меню
            document.getElementById('mobile-menu-button').addEventListener('click', function() {
                const menu = document.getElementById('mobile-menu');
                menu.classList.toggle('hidden');
            });
            
            // Поиск товаров
            document.getElementById('item-search').addEventListener('input', function() {
                const filter = this.value;
                const activeCategory = document.querySelector('.category-btn.active').getAttribute('data-category');
                renderItems(filter, activeCategory);
            });
            
            // Фильтрация по категориям
            document.querySelectorAll('.category-btn').forEach(button => {
                button.addEventListener('click', function() {
                    document.querySelectorAll('.category-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    const category = this.getAttribute('data-category');
                    const filter = document.getElementById('item-search').value;
                    renderItems(filter, category);
                });
            });
            
            // Авторизация
            document.getElementById('login-btn').addEventListener('click', openLoginModal);
            document.getElementById('mobile-login-btn').addEventListener('click', openLoginModal);
            document.getElementById('profile-login-btn').addEventListener('click', openLoginModal);
            
            document.getElementById('register-btn').addEventListener('click', openRegisterModal);
            document.getElementById('mobile-register-btn').addEventListener('click', openRegisterModal);
            document.getElementById('profile-register-btn').addEventListener('click', openRegisterModal);
            
            document.getElementById('close-login-modal').addEventListener('click', closeLoginModal);
            document.getElementById('close-register-modal').addEventListener('click', closeRegisterModal);
            
            document.getElementById('switch-to-register').addEventListener('click', function() {
                closeLoginModal();
                openRegisterModal();
            });
            
            document.getElementById('switch-to-login').addEventListener('click', function() {
                closeRegisterModal();
                openLoginModal();
            });
            
            document.getElementById('logout-btn').addEventListener('click', logout);
            document.getElementById('mobile-logout-btn').addEventListener('click', logout);
            
            // Формы
            document.getElementById('login-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('login-username').value;
                const password = document.getElementById('login-password').value;
                
                // Проверка в localStorage
                const users = JSON.parse(localStorage.getItem('dayz_users')) || [];
                const user = users.find(u => u.username === username && u.password === password);
                
                if (user) {
                    login(user.username);
                } else {
                    alert('Неверный логин или пароль');
                }
            });
            
            document.getElementById('register-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('register-username').value;
                const email = document.getElementById('register-email').value;
                const password = document.getElementById('register-password').value;
                const confirmPassword = document.getElementById('register-password-confirm').value;
                
                if (password !== confirmPassword) {
                    alert('Пароли не совпадают');
                    return;
                }
                
                // Сохранение в localStorage
                const users = JSON.parse(localStorage.getItem('dayz_users')) || [];
                
                if (users.some(u => u.username === username)) {
                    alert('Пользователь с таким логином уже существует');
                    return;
                }
                
                const newUser = {
                    username,
                    email,
                    password,
                    joinDate: new Date().toLocaleDateString('ru-RU')
                };
                
                users.push(newUser);
                localStorage.setItem('dayz_users', JSON.stringify(users));
                localStorage.setItem('dayz_current_user', JSON.stringify(newUser));
                
                login(username);
            });
            
            // Оформление заказа
            document.getElementById('checkout-btn').addEventListener('click', function() {
                if (!currentUser) {
                    alert('Пожалуйста, войдите или зарегистрируйтесь для оформления заказа.');
                    openLoginModal();
                    return;
                }
                
                if (cart.length === 0) {
                    alert('Ваша корзина пуста!');
                    return;
                }
                
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                alert(`Заказ оформлен! Сумма: ${total.toFixed(2)} ₽\nТовары будут доставлены в ваш инвентарь.`);
                cart = [];
                updateCart();
            });
        }

        // Работа с корзиной
        function addToCart(id, name, price) {
            // Проверка авторизации
            if (!currentUser) {
                alert('Пожалуйста, войдите или зарегистрируйтесь, чтобы добавить товары в корзину.');
                openLoginModal();
                return;
            }
            
            const existingItem = cart.find(item => item.id === id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: id,
                    name: name,
                    price: price,
                    quantity: 1
                });
            }
            
            updateCart();
            
            // Показать уведомление
            const notification = document.createElement('div');
            notification.className = 'fixed bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg animate-bounce';
            notification.innerHTML = `<i class="fas fa-check-circle mr-2"></i> ${name} добавлен в корзину!`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        function updateCart() {
            // Обновить счетчик корзины в навигации
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            document.getElementById('cart-count').textContent = totalItems;
            document.getElementById('mobile-cart-count').textContent = totalItems;
            
            // Обновить список товаров в корзине
            const cartItemsContainer = document.getElementById('cart-items');
            const emptyCartMessage = document.getElementById('empty-cart-message');
            
            if (cart.length === 0) {
                emptyCartMessage.classList.remove('hidden');
                cartItemsContainer.innerHTML = '';
                cartItemsContainer.appendChild(emptyCartMessage);
            } else {
                emptyCartMessage.classList.add('hidden');
                
                let cartItemsHTML = '';
                let subtotal = 0;
                
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    subtotal += itemTotal;
                    
                    // Находим изображение товара
                    const itemData = itemsData.find(i => i.id.toString() === item.id);
                    let imageUrl = itemData ? itemData.image : 'https://via.placeholder.com/80/1F2937/FFFFFF?text=No+Image';
                    if (imageUrl.includes('dayz.ginfo.gg')) {
                        imageUrl = imageUrl.replace('dayz.ginfo.gg/_next/image?url=', '').split('&w=')[0];
                        imageUrl = decodeURIComponent(imageUrl);
                    }
                    
                    cartItemsHTML += `
                        <div class="cart-item p-4 flex justify-between items-center transition-colors duration-200">
                            <div class="flex items-center">
                                <img src="${imageUrl}" alt="${item.name}" class="w-12 h-12 object-cover rounded mr-4" onerror="this.src='https://via.placeholder.com/80/1F2937/FFFFFF?text=No+Image'">
                                <div>
                                    <h4 class="font-medium">${item.name}</h4>
                                    <p class="text-sm text-gray-400">${item.price.toFixed(2)} ₽ за шт.</p>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <button class="quantity-btn decrease bg-gray-700 hover:bg-gray-600 text-white w-8 h-8 rounded" data-id="${item.id}">-</button>
                                <span class="mx-3">${item.quantity}</span>
                                <button class="quantity-btn increase bg-gray-700 hover:bg-gray-600 text-white w-8 h-8 rounded" data-id="${item.id}">+</button>
                                <span class="ml-4 font-medium w-16 text-right">${itemTotal.toFixed(2)} ₽</span>
                                <button class="remove-btn ml-4 text-red-400 hover:text-red-300" data-id="${item.id}">
                                    <i class="fas fa-trash"></i>
                                </button>
                            </div>
                        </div>
                    `;
                });
                
                cartItemsContainer.innerHTML = cartItemsHTML;
                
                // Обновить итоги
                document.getElementById('subtotal').textContent = `${subtotal.toFixed(2)} ₽`;
                document.getElementById('total').textContent = `${subtotal.toFixed(2)} ₽`;
                document.getElementById('cart-items-count').textContent = totalItems;
                
                // Включить/выключить кнопку оформления
                document.getElementById('checkout-btn').disabled = cart.length === 0;
                
                // Добавить обработчики для кнопок количества
                document.querySelectorAll('.quantity-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const itemId = this.getAttribute('data-id');
                        const item = cart.find(item => item.id === itemId);
                        
                        if (this.classList.contains('increase')) {
                            item.quantity += 1;
                        } else if (this.classList.contains('decrease')) {
                            item.quantity -= 1;
                            if (item.quantity <= 0) {
                                cart = cart.filter(i => i.id !== itemId);
                            }
                        }
                        
                        updateCart();
                    });
                });
                
                // Добавить обработчики для кнопок удаления
                document.querySelectorAll('.remove-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        const itemId = this.getAttribute('data-id');
                        cart = cart.filter(item => item.id !== itemId);
                        updateCart();
                    });
                });
            }
        }

        // Авторизация
        function openLoginModal() {
            document.getElementById('login-modal').classList.remove('hidden');
        }
        
        function closeLoginModal() {
            document.getElementById('login-modal').classList.add('hidden');
        }
        
        function openRegisterModal() {
            document.getElementById('register-modal').classList.remove('hidden');
        }
        
        function closeRegisterModal() {
            document.getElementById('register-modal').classList.add('hidden');
        }
        
        function login(username) {
            const users = JSON.parse(localStorage.getItem('dayz_users')) || [];
            const user = users.find(u => u.username === username);
            
            if (!user) {
                alert('Пользователь не найден');
                return;
            }
            
            currentUser = user;
            
            // Обновить UI
            document.getElementById('auth-buttons').classList.add('hidden');
            document.getElementById('mobile-auth-buttons').classList.add('hidden');
            
            document.getElementById('user-profile').classList.remove('hidden');
            document.getElementById('mobile-user-profile').classList.remove('hidden');
            
            document.getElementById('username-display').textContent = username;
            document.getElementById('mobile-username-display').textContent = username;
            
            document.getElementById('profile-not-logged').classList.add('hidden');
            document.getElementById('profile-content').classList.remove('hidden');
            
            document.getElementById('profile-username').textContent = username;
            document.getElementById('member-since').textContent = user.joinDate;
            document.getElementById('registration-date').textContent = user.joinDate;
            
            // Сохранить текущего пользователя
            localStorage.setItem('dayz_current_user', JSON.stringify(user));
            
            // Закрыть модальные окна
            closeLoginModal();
            closeRegisterModal();
            
            // Уведомление
            alert(`Добро пожаловать, ${username}!`);
        }
        
        function logout() {
            currentUser = null;
            
            // Обновить UI
            document.getElementById('auth-buttons').classList.remove('hidden');
            document.getElementById('mobile-auth-buttons').classList.remove('hidden');
            
            document.getElementById('user-profile').classList.add('hidden');
            document.getElementById('mobile-user-profile').classList.add('hidden');
            
            document.getElementById('profile-not-logged').classList.remove('hidden');
            document.getElementById('profile-content').classList.add('hidden');
            
            // Удалить текущего пользователя
            localStorage.removeItem('dayz_current_user');
            
            // Очистить корзину
            cart = [];
            updateCart();
            
            alert('Вы вышли из аккаунта.');
        }
        
        function checkAuth() {
            // Проверка сохраненного пользователя
            const savedUser = localStorage.getItem('dayz_current_user');
            if (savedUser) {
                const user = JSON.parse(savedUser);
                login(user.username);
            }
        }

        // Правовая информация
        function showTerms() {
            document.getElementById('terms-modal').classList.remove('hidden');
        }
        
        function showPrivacy() {
            document.getElementById('privacy-modal').classList.remove('hidden');
        }
        
        function showRefund() {
            document.getElementById('refund-modal').classList.remove('hidden');
        }
        
        function closeModal(id) {
            document.getElementById(id).classList.add('hidden');
        }
    </script>
</body>
</html>
